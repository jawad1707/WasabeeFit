{% load static %}
{% static "images" as baseUrl %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>WasabeeFit Subscription</title>
    <!-- Stylesheets -->
    <link href="{% static 'css/bootstrap.css' %}" rel="stylesheet">
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    <link href="{% static 'css/responsive.css' %}" rel="stylesheet">

    <link rel="shortcut icon" href="{% static 'images/favicon.png' %}" type="image/x-icon">
    <link rel="icon" href="{% static 'images/favicon.png' %}" type="image/x-icon">

    <!-- Responsive -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

    <!--[if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script><![endif]-->
    <!--[if lt IE 9]><script src="js/respond.js"></script><![endif]-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Django+Stripe Tutorial">
    <meta name="author" content="Alberto NG based on Bootstrap example templates">
    <title>My Shop - Frontstore</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/4.5/examples/pricing/">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Castoro&display=swap" rel="stylesheet">




    <style>
        body { 
            font-family: Castoro; 
            background-image: url("http://trumpwallpapers.com/wp-content/uploads/Workout-Wallpaper-03-1920-x-1080.jpg");
            background-repeat: no-repeat;
            background-size: cover;
        }
        h1 {
            font-family: Castoro;
        }
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }

        html {
            font-size: 14px;
        }

        @media (min-width: 768px) {
            html {
                font-size: 16px;
            }
        }

        .container {
            max-width: 960px;
        }

        .pricing-header {
            max-width: 700px;
        }

        .card-deck .card {
            min-width: 220px;
        }

        .header {
            background-color: #1a1c20;
            padding-top: 12px;
            padding-left: 12px;
        }

        .transparent {
            background-color: #1a1c20;
            border-color: #f9f6f7;
        }
    </style>

    <script src="https://js.stripe.com/v3/"></script>

</head>
<body class="hidden-bar-wrapper">

    <div class="page-wrapper">

        <!-- Preloder -->
        <div id="preloder" class="preloader">
            <div class="loader"></div>
        </div>
        <!-- Εnd Preloader -->
        <!-- Main Header-->
        <header class="main-header header-style-one">

            <!--Header-Upper-->
            <div class="header-upper">
                <div class="outer-container">
                    <div class="inner-container clearfix">

                        <!-- Logo Box -->
                        <div class="logo-box">
                            <div class="logo"><a href=""><img src="{% static 'images/logo.svg' %}"</a></div>
                        </div>

                        <!-- Logo -->
                        <div class="mobile-logo pull-left">
                            <a href="index.html" title=""><img src="{% static 'images/logo-small.svg' %}" alt="" title=""></a>
                        </div>

                        <!-- Header Social Box -->
                        <div class="header-social-box clearfix">



                            {% if user.is_authenticated %}

                            <h4> Hello! {{user.first_name}} </h4>
                            <a href="accounts/logout">Logout</a>

                            <a href="store">Shop</a>
                            <a href="accounts/login">Blog</a>
                            <a href="timetable">Time Table</a>


                            {% else %}
                            <a href="store">Shop</a>
                            <a href="accounts/login">Blog</a>
                            <a href="timetable">Timetable</a>

                            <a href="accounts/register">Register</a>
                            <a href="accounts/login">Login</a>

                            {% endif %}

                        </div>



                        <div class="nav-outer clearfix">
                            <!--Mobile Navigation Toggler-->
                            <div class="mobile-nav-toggler"><span class="icon"><img src="{% static 'images/icons/burger.svg' %}" alt="" /></span></div>
                            <!-- Main Menu -->
                            <nav class="main-menu navbar-expand-md">
                                <div class="navbar-header">
                                    <!-- Toggle Button -->
                                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                    </button>
                                </div>

                                <div class="navbar-collapse collapse clearfix" id="navbarSupportedContent">
                                    <ul class="navigation clearfix">
                                        <!--<li> <a href="index.html">Home</a></li> -->
                                        <li class="dropdown">


                                        <li>
                                            <a href="store">Shop</a>
                                        </li>
                                        <li>
                                            <a href="#">Blog</a>
                                        </li>
                                        <li>
                                            <a href="timetable">Timetable</a>
                                        </li>


                                        {% if user.is_authenticated %}
                                        <li><a> Hello! {{user.first_name}} </a></li>
                                        <li><a href="accounts/logout">Logout</a></li>

                                        {% else %}
                                        <li><a href="accounts/register">Register</a></li>
                                        <li><a href="accounts/login">Login</a></li>

                                        {% endif %}
                                    </ul>
                                </div>
                            </nav>

                        </div>

                    </div>

                </div>
            </div>
            <!--End Header Upper-->
            <!-- Sticky Header  -->
            <div class="sticky-header">
                <div class="auto-container clearfix">
                    <!--Logo-->
                    <div class="logo pull-left">
                        <a href="" title=""><img src="{% static '/images/logo-small.svg' %}" alt="" title=""></a>
                    </div>
                    <!--Right Col-->
                    <div class="pull-right">
                        <!-- Main Menu -->
                        <nav class="main-menu">
                            <!--Keep This Empty / Menu will come through Javascript-->
                        </nav><!-- Main Menu End-->

                    </div>
                </div>
            </div><!-- End Sticky Menu -->
            <!-- Mobile Menu  -->
            <div class="mobile-menu">
                <div class="menu-backdrop"></div>
                <div class="close-btn"><span class="icon flaticon-multiply"></span></div>

                <nav class="menu-box">
                    <div class="nav-logo"><a href="index.html"><img src="{% static 'images/sidebar-logo.svg' %}" alt="" title=""></a></div>
                    <div class="menu-outer">
                        <!--Here Menu Will Come Automatically Via Javascript / Same Menu as in Header-->
                    </div>
                </nav>

            </div>
            <!-- End Mobile Menu -->

        </header>
        <!-- End Main Header -->

        <div class="sec-title centered" style="padding-top: 15%; opacity: 1.0;">
            <h1 class="display-4" style="font-family: Castoro; margin-bottom: 10px;">Become A Member</h1>
            <p class="lead" style="font-family: Castoro; margin-bottom: 10px; font-size: 2rem">Choose your monthly subscription plan according to your needs and become our exclusive member to fulfill your fitness journey!</p>
        </div>

        <div class="container">
            <div class="card-deck mb-3 text-center">
                <div class="transparent card mb-4 shadow-sm">
                    <div class="card-header">
                        <h4 class="my-0 font-weight-normal" style="font-family: Castoro;">Standard</h4>
                    </div>
                    <div class="card-body">
                        <h1 class="card-title pricing-card-title">4000 Tk <small class="text-muted">/ month</small></h1>
                        <ul class="list-unstyled mt-3 mb-4">
                            <li style="margin-bottom: 5px; font-size: 1.25rem;">Health and Fitness Tips</li>
                            <li style="margin-bottom: 5px; font-size: 1.25rem;">Personal Health Solution</li>
                            <li style="margin-bottom: 5px; font-size: 1.25rem;">Diet Plan Included</li>
                        </ul>
                        <button id="buy_regular_button" type="button" class="buy-button btn btn-lg btn-block btn-outline-primary" value="sub_standart" style="margin-top:90px; font-family: Castoro;">Buy Standard!</button>
                    </div>
                </div>
                <div class="transparent card mb-4 shadow-sm">
                    <div class="card-header">
                        <h4 class="my-0 font-weight-normal" style="font-family: Castoro;">Pro</h4>
                    </div>
                    <div class="card-body">
                        <h1 class="card-title pricing-card-title">6000 Tk <small class="text-muted">/ month</small></h1>
                        <ul class="list-unstyled mt-3 mb-4">
                            <li style="margin-bottom: 5px; font-size: 1.25rem;">Membership Card</li>
                            <li style="margin-bottom: 5px; font-size: 1.25rem; ">Health and Fitness Tips</li>
                            <li style="margin-bottom: 5px; font-size: 1.25rem;">Personal Health Solution</li>
                            <li style="margin-bottom: 5px; font-size: 1.25rem;">Diet Plan Included</li>
                        </ul>
                        <button id="buy_pro_button" type="button" class="buy-button btn btn-lg btn-block btn-outline-primary" value="sub_pro" style="margin-top: 70px; font-family: Castoro;">Buy Pro!</button>
                    </div>
                </div>
                <div class="transparent card mb-4 shadow-sm">
                    <div class="card-header">
                        <h4 class="my-0 font-weight-normal" style="font-family: Castoro;">Ultimate</h4>
                    </div>
                    <div class="card-body">
                        <h1 class="card-title pricing-card-title">8000 Tk <small class="text-muted">/ month</small></h1>
                        <ul class="list-unstyled mt-3 mb-4">
                            <li style="margin-bottom: 5px; font-size: 1.25rem;">Membership Card</li>
                            <li style="margin-bottom: 5px; font-size: 1.25rem;">Health and Fitness Tips</li>
                            <li style="margin-bottom: 5px; font-size: 1.25rem;">Personal Health Solution</li>
                            <li style="margin-bottom: 5px; font-size: 1.25rem;">Diet Plan Included</li>
                            <li style="margin-bottom: 5px; font-size: 1.25rem;">6 days a week</li>
                            <li style="margin-bottom: 5px; font-size: 1.25rem;">Zumba Class</li>

                        </ul>
                        <button id="buy_platinum_button" type="button" class="buy-button btn btn-lg btn-block btn-outline-primary" value="sub_ultimate">Buy Ultimate!</button>
                    </div>
                </div>
            </div>

            <footer class="pt-4 my-md-5 pt-md-5 border-top">
                <div class="row">
                    <div class="col-12 col-md">
                        <small class="d-block mb-3 text-muted">&copy; Wasabee</small>
                    </div>
                    <div class="col-6 col-md" style="border: groove; border-color: #f9f6f7; margin-left: 5px; margin-right: 5px;">
                        <h5>Features</h5>
                        <ul class="list-unstyled text-small">
                            <li><a class="text-muted" href="#">Cool stuff</a></li>
                            <li><a class="text-muted" href="#">Random feature</a></li>
                            <li><a class="text-muted" href="#">Team feature</a></li>
                            <li><a class="text-muted" href="#">Stuff for developers</a></li>
                            <li><a class="text-muted" href="#">Another one</a></li>
                            <li><a class="text-muted" href="#">Last time</a></li>
                        </ul>
                    </div>
                    <div class="col-6 col-md" style="border: groove; border-color: #f9f6f7; margin-left: 5px; margin-right: 5px;">
                        <h5>Resources</h5>
                        <ul class="list-unstyled text-small">
                            <li><a class="text-muted" href="#">Resource</a></li>
                            <li><a class="text-muted" href="#">Resource name</a></li>
                            <li><a class="text-muted" href="#">Another resource</a></li>
                            <li><a class="text-muted" href="#">Final resource</a></li>
                        </ul>
                    </div>
                    <div class="col-6 col-md" style="border: groove; border-color: #f9f6f7; margin-left: 5px; margin-right: 5px;">
                        <h5>About</h5>
                        <ul class="list-unstyled text-small">
                            <li><a class="text-muted" href="#">Team</a></li>
                            <li><a class="text-muted" href="#">Locations</a></li>
                            <li><a class="text-muted" href="#">Privacy</a></li>
                            <li><a class="text-muted" href="#">Terms</a></li>
                        </ul>
                    </div>
                </div>
            </footer>
        </div>

        <script src="{% static 'js/jquery.js' %}"></script>
        <script src="{% static 'js/popper.min.js' %}"></script>
        <script src="{% static 'js/bootstrap.min.js' %}"></script>
        <script src="{% static 'js/jquery.mCustomScrollbar.concat.min.js' %}"></script>
        <script src="{% static 'js/jquery.fancybox.js' %}"></script>
        <script src="{% static 'js/appear.js' %}"></script>
        <script src="{% static 'js/owl.js' %}"></script>
        <script src="{% static 'js/wow.js' %}"></script>
        <script src="{% static 'js/jquery-ui.js' %}"></script>
        <script src="{% static 'js/script.js' %}"></script>

        <script type="text/javascript">
            // Create an instance of the Stripe object with your publishable API key
            var stripe = Stripe('pk_test_51HmvaTFZ98jXoTtb45JuuTfAvlJYH6E92NFOQw54f3BFNzZg7TyJIeBXDcq2bknzelx7auNEwKZY8cHMuJFm4Jj300yXugtpJV');

            // Gets all buy buttons
            var buttons = document.getElementsByClassName('buy-button');
            for (i = 0; i < buttons.length; i++) {

                // for every button we will add a Stripe POST request action
                buttons[i].addEventListener('click', function (event) {
                    var targetElement = event.target || event.srcElement;
                    var productName = targetElement.value;
                    console.log('Buying: ' + productName);

                    // Our endpoint with the chosen product name
                    var url = '/subscription/create-checkout-session/' + productName

                    // Create a new Checkout Session
                    fetch(url, {
                        method: 'POST',
                    })
                        .then(function (response) {
                            return response.json();
                        })
                        .then(function (session) {
                            return stripe.redirectToCheckout({ sessionId: session.id });
                        })
                        .then(function (result) {
                            // If `redirectToCheckout` fails due to a browser or network
                            // error, you should display the localized error message to your
                            // customer using `error.message`.
                            if (result.error) {
                                alert(result.error.message);
                            }
                        })
                        .catch(function (error) {
                            console.error('Error:', error);
                        });

                });

            }
        </script>

</body>
</html>